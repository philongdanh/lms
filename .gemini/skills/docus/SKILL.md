---
name: Docusaurus Conventions
description: Convention over configuration guidelines for Docusaurus and project
---

# Docusaurus Conventions

Convention over configuration guidelines for Docusaurus documentation and
project structure.

---

## Core Principle

**Write only what differs from defaults.** If a value is the Docusaurus default,
omit it.

---

## Front Matter Conventions

### Required vs Optional

| Field              | When to Include              |
| ------------------ | ---------------------------- |
| `id`               | Always - matches filename    |
| `title`            | Always - document title      |
| `sidebar_label`    | Only if different from title |
| `sidebar_position` | Always - explicit ordering   |
| `slug`             | Only if different from id    |
| `tags`             | Only if using tags feature   |
| `description`      | Only if SEO-critical         |
| `keywords`         | Only if SEO-critical         |
| `image`            | Only if open graph needed    |
| `hide_*`           | Only if hiding something     |

### Minimal Example

```yaml
---
id: auth
title: Auth
sidebar_position: 1
---
```

### When `sidebar_label` Needed

```yaml
---
id: user-registration-flow
title: User Registration Flow
sidebar_label: Registration # Shorter for sidebar
sidebar_position: 2
---
```

---

## Category Configuration

### Minimal _category_.json

```json
{
  "label": "Product",
  "position": 1
}
```

### Fields to Omit

| Field         | Reason                    |
| ------------- | ------------------------- |
| `description` | Not needed for navigation |
| `className`   | Use defaults              |
| `customProps` | Use only when necessary   |
| `collapsed`   | Default is false          |
| `collapsible` | Default is true           |

### When to Add Link

Only when category needs a landing page:

```json
{
  "label": "Product",
  "position": 1,
  "link": {
    "type": "generated-index",
    "slug": "/blueprint/product"
  }
}
```

---

## Project-Wide Conventions

### File Naming

| Convention       | Example                    |
| ---------------- | -------------------------- |
| kebab-case       | `user-registration.md`     |
| lowercase        | `auth.md` not `Auth.md`    |
| no special chars | `setup.md` not `setup!.md` |
| descriptive      | `vision.md` not `v1.md`    |

### Directory Naming

| Convention | Example                           |
| ---------- | --------------------------------- |
| lowercase  | `modules/` not `Modules/`         |
| plural     | `cases/` for multiple items       |
| singular   | `handbook/` for single collection |

### ID Conventions

Match the filename without extension:

| File                   | ID                  |
| ---------------------- | ------------------- |
| `user-registration.md` | `user-registration` |
| `auth.md`              | `auth`              |
| `getting-started.md`   | `getting-started`   |

---

## What to Omit

### In docusaurus.config.ts

Don't specify if using defaults:

- `tagline` if not used
- `organizationName` if not deploying to GitHub Pages
- `customFields` if empty
- Theme customizations with default values

### In Theme Config

Don't specify:

- Default color modes
- Default navbar items styling
- Default footer styling
- Plugin options with default values

### In Markdown

Don't add:

- Empty sections
- Placeholder content
- Comments explaining obvious code
- Redundant descriptions matching title

---

## Sidebar Conventions

### Auto-generated Sidebars

Let Docusaurus generate from filesystem:

```typescript
// sidebars.ts - minimal
export default {
  blueprint: [{ type: 'autogenerated', dirName: 'blueprint' }],
  spec: [{ type: 'autogenerated', dirName: 'spec' }],
  qa: [{ type: 'autogenerated', dirName: 'qa' }],
};
```

### Position Control

Use `sidebar_position` in front matter and `_category_.json` position field.

Don't create manual sidebar configurations unless autogenerated doesn't work.

---

## Plugin Conventions

### Configure Only What's Different

```typescript
// Good - only non-default options
{
  compilePath: 'static/d2',
  linkPath: '/d2',
}

// Avoid - specifying defaults
{
  compilePath: 'static/d2',
  linkPath: '/d2',
  ext: 'svg',        // This is default
  someOption: true,  // If this is default, omit it
}
```

---

## Asset Conventions

### Static Assets

- Place in `static/` directory
- Reference with absolute paths: `/img/logo.svg`
- No need for import statements for simple assets

### D2 Diagrams

- Compiled to `static/d2/` automatically
- Referenced via `linkPath: '/d2'`
- No manual management needed

---

## Testing Conventions

### Build Verification

```bash
npm run build
```

Should complete without errors. Fix all warnings before committing.

### Link Verification

Use `onBrokenLinks: 'warn'` during development, consider `'throw'` for CI.

---

## Summary Checklist

Before committing documentation:

| âœ…  | Check                                 |
| --- | ------------------------------------- |
|     | Front matter has only required fields |
|     | `_category_.json` has no description  |
|     | IDs match filenames                   |
|     | No duplicate content                  |
|     | No default values specified           |
|     | All links valid                       |
|     | Build passes without errors           |
